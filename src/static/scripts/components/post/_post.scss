@use '../../../style/vars';

.post {
	&.isInFeed {
		.actions {
			position: absolute;
			transform: translateX(calc(-100% - 1.5rem));
			margin-top: vars.$post-padding;
		}

		@media (orientation: portrait) {
			.actions {
				transform: translateX(-100%);
			}
		}

		.header {
			margin: vars.$post-padding;
		}

		.content {
			&.padded {
				margin: vars.$post-padding;
			}

			&.fullScale {
				border-bottom-left-radius: 1rem;
				border-bottom-right-radius: 1rem;
				overflow: hidden;
			}

			.postImage {
				max-height: 95vh;
				object-fit: contain;
			}

			.videoPlayer {
				.fullscreen {
					video {
						border-radius: 0;
					}
				}
			}
		}
	}

	.linkPreviewWrapper {
		display: flex;
		justify-content: space-between;
		align-items: center;
		gap: .5rem;
		width: 100%;
		max-height: 7rem;

		> a {
			max-width: 75%;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}

		> img {
			max-width: 25%;
			max-height: 7rem;
			border-radius: 1rem;
			border: 1px solid #5f5f5f;
		}
	}

	.actions {
		z-index: 1;
		min-height: 100%;

		> .wrapper {
			position: sticky;
			top: -4rem;
			display: flex;
			flex-direction: column;
			align-items: center;

			.dropDownButton {
				background-image: url("/img/kebab.svg");
				background-size: contain;
				background-color: unset;
				border: none;
				padding: 0;

				&:hover {
					background-color: #ffffff1a;
				}

				&:active {
					background-color: #ffffff40;
				}
			}

			.dropDownArea {
				left: calc(100% + .5rem);
				top: 0;
				margin-top: 0;
			}
		}
	}

	.header {
		margin: vars.$post-padding 0;

		.top {
			margin-bottom: vars.$post-padding / 4;
			flex-wrap: wrap;
			align-items: center;

			> * {
				margin: 0 0.125rem;
			}

			> span {
				font-size: .8em;
				margin: 0 0.1rem;
			}

			:last-child.flairWrapper {
				margin-left: auto;
			}
		}

		.title {
			font-size: 1.75rem;
		}

		//> .flair {
		//	width: max-content;
		//	margin-left: auto;
		//	position: relative;
		//	margin-bottom: -1.2rem;
		//}
	}

	&:not(.isInFeed) {
		&.feedItem {
			flex-direction: row-reverse;
		}

		.actions {
			margin: 1.5rem 1rem;
			width: vars.$postActionsWidth;
			max-width: vars.$postActionsWidth;
		}

		.backgroundLink {
			display: none;
		}
	}

	.content {
		display: flex;

		.postImage {
			width: 100%;
			height: auto;
			display: block;
		}
	}

	.comments {
		img {
			width: vars.$postActionsWidth * .69;
		}
	}
}
